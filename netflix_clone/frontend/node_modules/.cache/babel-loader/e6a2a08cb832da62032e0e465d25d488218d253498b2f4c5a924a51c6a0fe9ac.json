{"ast":null,"code":"var _jsxFileName = \"C:\\\\Codebase\\\\PythonProjects\\\\netflix_clone\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { moviesAPI } from '../services/api';\nimport MovieRow from '../components/MovieRow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [featuredMovie, setFeaturedMovie] = useState(null);\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [actionMovies, setActionMovies] = useState([]);\n  const [dramaMovies, setDramaMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        console.log('Fetching movies data...');\n\n        // First try to get all movies to see if any exist\n        const allMoviesResponse = await moviesAPI.getMovies({\n          limit: 50\n        });\n        console.log('All movies response:', allMoviesResponse.data);\n        const allMovies = allMoviesResponse.data.movies || [];\n        if (allMovies.length === 0) {\n          console.warn('No movies found in database');\n          setLoading(false);\n          return;\n        }\n\n        // Set featured movie\n        setFeaturedMovie(allMovies[0]);\n\n        // For now, use all movies for different categories\n        setTrendingMovies(allMovies.slice(0, 10));\n        setActionMovies(allMovies.filter(movie => movie.genre.toLowerCase().includes('action')));\n        setDramaMovies(allMovies.filter(movie => movie.genre.toLowerCase().includes('drama')));\n        console.log('Movies loaded successfully:', {\n          total: allMovies.length,\n          trending: allMovies.slice(0, 10).length,\n          action: allMovies.filter(movie => movie.genre.toLowerCase().includes('action')).length,\n          drama: allMovies.filter(movie => movie.genre.toLowerCase().includes('drama')).length\n        });\n        setLoading(false);\n      } catch (error) {\n        var _error$response;\n        console.error('Error fetching data:', error);\n        console.error('Error details:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handlePlayMovie = () => {\n    if (featuredMovie) {\n      navigate(`/movie/${featuredMovie._id}`);\n    }\n  };\n  const handleAddToWatchlist = async () => {\n    if (featuredMovie) {\n      try {\n        await moviesAPI.addToWatchlist(featuredMovie._id);\n        alert('Added to watchlist!');\n      } catch (error) {\n        console.error('Error adding to watchlist:', error);\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [featuredMovie && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hero\",\n      style: {\n        backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url(${featuredMovie.thumbnail_url})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"hero-title\",\n          children: featuredMovie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"hero-description\",\n          children: featuredMovie.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handlePlayMovie,\n            children: \"\\u25B6 Play\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: handleAddToWatchlist,\n            children: \"+ My List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-rows\",\n      children: [trendingMovies.length > 0 && /*#__PURE__*/_jsxDEV(MovieRow, {\n        title: \"Trending Now\",\n        movies: trendingMovies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), actionMovies.length > 0 && /*#__PURE__*/_jsxDEV(MovieRow, {\n        title: \"Action Movies\",\n        movies: actionMovies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), dramaMovies.length > 0 && /*#__PURE__*/_jsxDEV(MovieRow, {\n        title: \"Drama Series\",\n        movies: dramaMovies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"cHTog5vhx+ntEpLJD+XEfc0XN3g=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","moviesAPI","MovieRow","jsxDEV","_jsxDEV","Home","_s","featuredMovie","setFeaturedMovie","trendingMovies","setTrendingMovies","actionMovies","setActionMovies","dramaMovies","setDramaMovies","loading","setLoading","navigate","fetchData","console","log","allMoviesResponse","getMovies","limit","data","allMovies","movies","length","warn","slice","filter","movie","genre","toLowerCase","includes","total","trending","action","drama","error","_error$response","response","message","handlePlayMovie","_id","handleAddToWatchlist","addToWatchlist","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","thumbnail_url","title","description","onClick","_c","$RefreshReg$"],"sources":["C:/Codebase/PythonProjects/netflix_clone/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { moviesAPI } from '../services/api';\nimport MovieRow from '../components/MovieRow';\n\nconst Home = () => {\n  const [featuredMovie, setFeaturedMovie] = useState(null);\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [actionMovies, setActionMovies] = useState([]);\n  const [dramaMovies, setDramaMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        console.log('Fetching movies data...');\n        \n        // First try to get all movies to see if any exist\n        const allMoviesResponse = await moviesAPI.getMovies({ limit: 50 });\n        console.log('All movies response:', allMoviesResponse.data);\n        \n        const allMovies = allMoviesResponse.data.movies || [];\n        \n        if (allMovies.length === 0) {\n          console.warn('No movies found in database');\n          setLoading(false);\n          return;\n        }\n        \n        // Set featured movie\n        setFeaturedMovie(allMovies[0]);\n        \n        // For now, use all movies for different categories\n        setTrendingMovies(allMovies.slice(0, 10));\n        setActionMovies(allMovies.filter(movie => movie.genre.toLowerCase().includes('action')));\n        setDramaMovies(allMovies.filter(movie => movie.genre.toLowerCase().includes('drama')));\n        \n        console.log('Movies loaded successfully:', {\n          total: allMovies.length,\n          trending: allMovies.slice(0, 10).length,\n          action: allMovies.filter(movie => movie.genre.toLowerCase().includes('action')).length,\n          drama: allMovies.filter(movie => movie.genre.toLowerCase().includes('drama')).length\n        });\n        \n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        console.error('Error details:', error.response?.data || error.message);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handlePlayMovie = () => {\n    if (featuredMovie) {\n      navigate(`/movie/${featuredMovie._id}`);\n    }\n  };\n\n  const handleAddToWatchlist = async () => {\n    if (featuredMovie) {\n      try {\n        await moviesAPI.addToWatchlist(featuredMovie._id);\n        alert('Added to watchlist!');\n      } catch (error) {\n        console.error('Error adding to watchlist:', error);\n      }\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\"><div className=\"spinner\"></div></div>;\n  }\n\n  return (\n    <div className=\"home\">\n      {/* Hero Section */}\n      {featuredMovie && (\n        <div \n          className=\"hero\"\n          style={{\n            backgroundImage: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url(${featuredMovie.thumbnail_url})`\n          }}\n        >\n          <div className=\"hero-content\">\n            <h1 className=\"hero-title\">{featuredMovie.title}</h1>\n            <p className=\"hero-description\">{featuredMovie.description}</p>\n            <div className=\"hero-buttons\">\n              <button className=\"btn btn-primary\" onClick={handlePlayMovie}>\n                â–¶ Play\n              </button>\n              <button className=\"btn btn-secondary\" onClick={handleAddToWatchlist}>\n                + My List\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Movie Rows */}\n      <div className=\"movie-rows\">\n        {trendingMovies.length > 0 && (\n          <MovieRow title=\"Trending Now\" movies={trendingMovies} />\n        )}\n        {actionMovies.length > 0 && (\n          <MovieRow title=\"Action Movies\" movies={actionMovies} />\n        )}\n        {dramaMovies.length > 0 && (\n          <MovieRow title=\"Drama Series\" movies={dramaMovies} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}